generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model Candidate {
  id                    String   @id @default(uuid())
  name                  String
  email                 String?  @unique
  phone                 String?
  experience            Json     @default("[]")
  education             Json     @default("[]")
  skills                String[]
  languages             Json     @default("[]")
  summary               String?
  rawText               String?  @map("raw_text")
  cvFileName            String?  @map("cv_file_name")
  gender                String?  @map("sexo")              
  age                   Int?     @map("edad")
  maritalStatus         String?  @map("estado_civil")
  birthCountry          String?  @map("pais_nacimiento")
  numLanguages          Int?     @map("num_idiomas")
  hasCar                Boolean? @map("coche_propio")@default(false)
  criminalRecord        Boolean? @map("antecedentes_penales")@default(false)
  restrainingOrder      Boolean? @map("orden_alejamiento")@default(false)
  numChildren           Int?     @map("num_hijos")
  workDisability        Boolean? @map("incapacidad_laboral")@default(false)
  disability            String?                           
  disabilityFlag        Boolean? @map("minusvalia")@default(false)
  jobSeeker             Boolean? @map("demandante_empleo")@default(true)
  weaknesses            String?  @map("puntos_debiles")    
  trainingProfile       String?  @map("formacion_candidato")
  employabilityScore    Float
  topRecommendations    String[] @map("top_recommendations")
  areasForDevelopment   String[] @map("areas_for_development")
  interviewQuestions    String[] @map("interview_questions")
  lastProcessed         DateTime @map("last_processed")
  previousIncarceration String?
  createdAt             DateTime @default(now())
  updatedAt             DateTime @updatedAt
}

model Offer {
  id          String   @id @default(uuid())
  puesto      String
  categoria   String?
  empresa     String?
  descripcion String?
  activo      Boolean  @default(true)
  fechaInicio DateTime?
  fechaFin    DateTime?
  createdAt   DateTime @default(now())
}
